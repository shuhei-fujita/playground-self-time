# 勤怠打刻スクリプト

このリポジトリは、シンプルな勤怠打刻（出勤・退勤）管理用のシェルスクリプト `kintai.sh` を提供します。
コマンド一つで出勤・退勤の切り替えや、勤怠状況の確認、ログの表示ができます。

## 使い方

### 1. 自動打刻（出退勤の自動切り替え）

引数なしで `kintai.sh` を実行すると、ログファイル内の直近の打刻状況に応じて自動で「出勤（IN）」または「退勤（OUT）」を記録します。

```sh
./kintai.sh
```

- ログの最後の有効な記録が「IN（出勤）」の場合、「OUT（退勤）」を記録します。
- それ以外の場合（ログが空、最後の記録が「OUT（退勤）」など）、「IN（出勤）」を記録します。

### 2. 明示的な打刻（出勤・退勤）

特定の操作を明示的に行うことも可能です。

- **出勤打刻:**
  ```sh
  ./kintai.sh in
  ```
  このコマンドは、現在の時刻で「IN（出勤）」を記録します。

- **退勤打刻:**
  ```sh
  ./kintai.sh out
  ```
  このコマンドは、現在の時刻で「OUT（退勤）」を記録します。

### 3. 勤怠状況の確認

現在の出勤・退勤状況や、直近の打刻時刻、勤務時間を表示します。

```sh
./kintai.sh status
```

### 4. ログの表示

これまでの打刻ログをすべて表示します。

```sh
./kintai.sh log
```

### 5. 使い方ヘルプ

不正な引数（例: `help`）やここに記載されていない引数を与えると、利用可能なコマンドのリストが表示されます。

```sh
./kintai.sh help
```

## ログファイル

打刻ログの保存場所は、環境変数 `KINTAI_LOG_FILE` を設定することでカスタマイズ可能です。

環境変数が設定されていない場合、デフォルトで `~/git/samples/playground-self-time/log.txt` に記録されます。
ログファイルが存在しない場合は自動的に作成されます。また、ログファイルが置かれるディレクトリも必要に応じて作成されます。

1行ごとに「日付 時刻 IN/OUT」の形式で追記されます。

例:
```
2024-06-10 09:00:00 IN
2024-06-10 18:00:00 OUT
```

## 注意事項

- 日付や時刻の取得には `date` コマンドを利用しています（macOS向け）。

---

必要に応じてカスタマイズしてご利用ください。
